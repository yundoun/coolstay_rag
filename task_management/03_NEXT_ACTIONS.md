# 🎯 꿀스테이 RAG 프로젝트 - 다음 액션 계획

**📅 최종 업데이트**: 2024-09-25 14:30
**🔄 현재 포커스**: Phase 2 모듈화 준비
**⭐ 우선순위**: 태스크 관리 시스템 완성 → Phase 2 시작

---

## 🔥 즉시 처리 (오늘 필수)

### 1. **태스크 관리 시스템 완성** (15분)
- **상태**: 🔄 진행 중 (75% 완료)
- **남은 작업**:
  - ✅ 가이드라인 문서 작성 완료
  - ✅ 현재 상황 문서 작성 완료
  - ✅ 마일스톤 문서 작성 완료
  - 🔄 다음 액션 문서 작성 (현재 작업)
  - ⏳ 첫 번째 작업 로그 템플릿 생성
- **예상 시간**: 15분
- **완료 조건**: 4개 문서 + 로그 템플릿 완성

### 2. **Phase 2 킥오프 준비** (30분)
- **상태**: ⏳ 대기
- **작업 내용**:
  - src/ 디렉토리 구조 설계 확정
  - 첫 번째 모듈 (config.py) 구현 계획
  - 모듈 변환 우선순위 결정
- **예상 시간**: 30분
- **완료 조건**: Phase 2 상세 계획 수립

---

## ⭐ 우선순위 작업 (이번 주)

### **Phase 2-A: 기반 구조 구축** (1-2일)

#### 🏗️ **1. src/ 디렉토리 구조 생성**
- **우선순위**: 🔥 최고
- **예상 시간**: 30분
- **의존성**: 태스크 관리 완료
- **작업 내용**:
  ```
  src/
  ├── core/          # 핵심 설정
  ├── data/          # 데이터 처리
  ├── vectorstore/   # 벡터DB
  ├── agents/        # RAG 에이전트
  ├── routing/       # 질문 라우팅
  ├── evaluation/    # 평가 시스템
  ├── pipeline/      # 통합 파이프라인
  └── utils/         # 유틸리티
  ```
- **완료 조건**: 모든 하위 폴더 + __init__.py 생성

#### ⚙️ **2. 핵심 설정 모듈 (src/core/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 2시간
- **의존성**: 디렉토리 구조 완료
- **구현 순서**:
  1. `config.py`: 환경 설정 관리
  2. `llm.py`: OpenAI 모델 래퍼
  3. `embeddings.py`: Ollama 임베딩 래퍼
- **완료 조건**: 노트북 대비 동일 기능 + 테스트

#### 📚 **3. 데이터 처리 모듈 (src/data/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 3시간
- **의존성**: core 모듈 완료
- **구현 순서**:
  1. `loader.py`: 마크다운 파일 로딩
  2. `preprocessor.py`: 텍스트 전처리
  3. `chunker.py`: 헤더 기반 청킹
- **완료 조건**: 01_data_processing.ipynb와 동일 결과

---

### **Phase 2-B: 주요 컴포넌트** (3-5일)

#### 🗄️ **4. 벡터 저장소 모듈 (src/vectorstore/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 2시간
- **의존성**: data 모듈 완료
- **구현 내용**:
  - `chroma_manager.py`: ChromaDB 관리
  - `domain_stores.py`: 도메인별 저장소
  - `retriever.py`: 검색 인터페이스
- **완료 조건**: 02_vector_stores.ipynb와 동일 성능

#### 🤖 **5. RAG 에이전트 모듈 (src/agents/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 4시간
- **의존성**: vectorstore 완료
- **구현 내용**:
  - `base_agent.py`: 기본 RAG 에이전트
  - `corrective_rag.py`: 자가교정 메커니즘
  - `domain_agents/`: 7개 도메인별 에이전트
  - `web_agent.py`: 웹 검색 에이전트
- **완료 조건**: 03_agents_development.ipynb와 동일 기능

#### 🧭 **6. 라우팅 시스템 (src/routing/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 3시간
- **의존성**: agents 완료
- **구현 내용**:
  - `question_analyzer.py`: AI 기반 질문 분석
  - `domain_router.py`: 에이전트 선택 로직
  - `response_integrator.py`: 답변 통합
- **완료 조건**: 04_routing_integration.ipynb와 동일 성능

---

### **Phase 2-C: 평가 및 통합** (2-3일)

#### 🧑‍⚖️ **7. 평가 시스템 (src/evaluation/)**
- **우선순위**: 📌 보통
- **예상 시간**: 3시간
- **의존성**: routing 완료
- **구현 내용**:
  - `react_evaluator.py`: ReAct 기반 품질 평가
  - `hitl_handler.py`: Human-in-the-Loop 처리
  - `metrics.py`: 성능 지표 계산
- **완료 조건**: 05_hitl_evaluation.ipynb와 동일 기능

#### 🚀 **8. 통합 파이프라인 (src/pipeline/)**
- **우선순위**: ⭐ 높음
- **예상 시간**: 2시간
- **의존성**: 모든 모듈 완료
- **구현 내용**:
  - `rag_pipeline.py`: 메인 파이프라인
  - `workflow_manager.py`: LangGraph 워크플로우
- **완료 조건**: 99_full_pipeline_test.ipynb와 동일 결과

---

## 📌 보조 작업 (시간 날 때)

### 🧪 **테스트 작성**
- **우선순위**: 📌 보통
- **예상 시간**: 각 모듈당 1시간
- **작업 내용**:
  - 단위 테스트: 각 클래스/함수별
  - 통합 테스트: 모듈 간 연동
  - 성능 테스트: 벤치마크 비교
- **목표**: 80% 테스트 커버리지

### 📝 **문서화**
- **우선순위**: 💡 낮음
- **예상 시간**: 2시간
- **작업 내용**:
  - API 문서 자동 생성
  - 사용법 가이드 작성
  - 예제 코드 제공
- **완료 조건**: 개발자 친화적 문서

---

## 🗓️ 주간 계획

### **이번 주 (9/25-9/29)**
```
월 (9/25): 태스크 관리 완성 + Phase 2 시작
화 (9/26): src/ 구조 + core 모듈
수 (9/27): data 모듈 완성
목 (9/28): vectorstore 모듈
금 (9/29): agents 모듈 시작
```

### **다음 주 (9/30-10/6)**
```
월 (9/30): agents 모듈 완성
화 (10/1): routing 모듈
수 (10/2): evaluation 모듈
목 (10/3): pipeline 통합
금 (10/4): 테스트 및 검증
```

---

## ⚠️ 위험 요소 및 대응

### 🚨 **잠재적 블로커**
1. **복잡성 과소평가**
   - 대응: 단계적 접근, 필수 기능 우선
2. **성능 저하**
   - 대응: 벤치마크 테스트로 성능 보장
3. **의존성 이슈**
   - 대응: 독립적 모듈 설계

### 💡 **성공 전략**
- **점진적 리팩토링**: 한 번에 하나씩
- **지속적 검증**: 각 단계마다 테스트
- **문서 동기화**: 코드와 문서 함께 업데이트

---

## 📊 성공 지표

### **Phase 2 완료 조건**
- ✅ **모든 모듈 구현**: 8개 주요 모듈
- ✅ **성능 유지**: 노트북 대비 동일 성능
- ✅ **테스트 통과**: 80% 커버리지
- ✅ **문서 완성**: API 문서 + 사용 가이드

### **일일 목표**
- 매일 1-2개 모듈 완성
- 작업 로그 업데이트
- 진행 상황 태스크 문서 반영

---

**📌 오늘의 첫 번째 액션**: 태스크 관리 시스템 완성 (15분 후 Phase 2 시작!)